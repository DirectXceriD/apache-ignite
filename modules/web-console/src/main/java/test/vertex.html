<html>
<head>
  <title>Vertex Test</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.3.0/sockjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vertx/3.6.2/vertx-eventbus.min.js"></script>
</head>
<body>
<script>
  const eb = new EventBus("http://localhost:3000/eventbus/");

  const start = Date.now();

  console.log("Connecting...");

  eb.onopen = function () {
    console.log("Connected: " + (Date.now() - start));

    eb.registerHandler("toBrowser", function (err, msg) {
      console.log("Received from server: " + JSON.stringify(msg));
    });

    setInterval(() => eb.publish("fromBrowser", {data: "hello", tm: start}), 3000);
  };

</script>
Vertx Event bus test
</body>
</html>
